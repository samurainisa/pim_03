# Exercise 01 — Создание контекстной диаграммы
## Задача 2: Доставка заказов (Delivery Service)

### Контекстная диаграмма to be

Контекстная диаграмма показывает систему доставки заказов в её связях с окружающим миром - стейкхолдерами и смежными системами.

### Текстовое описание контекстной диаграммы

```
┌─────────────────────────────────────────────────────────────────┐
│                                                                 │
│                    СИСТЕМА ДОСТАВКИ ЗАКАЗОВ                     │
│                    (Delivery Service System)                    │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
         │                    │                    │
         │                    │                    │
    ┌────▼────┐          ┌────▼────┐         ┌────▼────┐
    │ Курьер  │          │Диспетчер│         │Оператор │
    └────┬────┘          └────┬────┘         └────┬────┘
         │                    │                    │
         │                    │                    │
    ┌────▼────────────────────▼────────────────────▼────┐
    │                                                   │
    │         СИСТЕМА ДОСТАВКИ ЗАКАЗОВ                  │
    │         (Delivery Service System)                 │
    │                                                   │
    └────┬────────────────────┬────────────────────┬────┘
         │                    │                    │
    ┌────▼────┐         ┌────▼────┐           ┌────▼────┐
    │Магазины │         │Бухгалте-│           │Админист-│
    │и ПП     │         │рия       │          │ратор    │
    └─────────┘         └──────────┘          └─────────┘
```

### Описание элементов контекстной диаграммы

#### 1. Система (центральный элемент)
**Система доставки заказов (Delivery Service System)**
- Овал в центре диаграммы
- Представляет собой "черный ящик" - не показывает внутреннюю структуру

#### 2. Внешние сущности (прямоугольники)

##### 2.1. Пользователи системы (Слой 2)

**Курьер (st00200)**
- **Входящие потоки:**
  - Информация о доступных заказах
  - Информация о забронированных заказах
  - Информация о начисленной оплате
  - Управляющие воздействия: уведомления, инструкции
- **Исходящие потоки:**
  - Запрос на просмотр заказов
  - Запрос на бронирование заказа
  - Подтверждение забора заказа
  - Подтверждение доставки заказа
  - Статус выполнения заказа

**Диспетчер (st00300)**
- **Входящие потоки:**
  - Информация о всех заказах
  - Информация о статусе курьеров
  - Информация о статусе заказов
  - Уведомления о проблемных ситуациях
- **Исходящие потоки:**
  - Команда на переназначение заказа
  - Управляющие воздействия курьерам
  - Запросы на отчеты

**Оператор (st00400)**
- **Входящие потоки:**
  - Информация о введенных заказах
  - Подтверждение успешного ввода
  - Уведомления об ошибках
- **Исходящие потоки:**
  - Данные о заказах от магазинов и ПП
  - Запросы на ввод/редактирование заказов

**Администратор (st00500)**
- **Входящие потоки:**
  - Информация о пользователях системы
  - Информация о правах доступа
  - Логи системы
- **Исходящие потоки:**
  - Команды на регистрацию курьеров
  - Команды на назначение прав доступа
  - Команды на управление пользователями

##### 2.2. Поставщики и взаимодействующие стороны (Слой 3)

**Магазины и предприятия питания (st00600)**
- **Входящие потоки:**
  - Информация о статусе доставки заказа
  - Подтверждение получения заказа системой
- **Исходящие потоки:**
  - Информация о заказах (место комплектации, срок комплектации, место доставки, желаемые сроки доставки)
  - Запросы на статус доставки

**Бухгалтерия (st00800) / Система бухгалтерского учета (st01000)**
- **Входящие потоки:**
  - Информация о поступивших заказах (для расчета с поставщиками)
  - Информация о доставке заказа (для расчета оплаты курьеров)
  - Информация о начисленной оплате курьерам
- **Исходящие потоки:**
  - Данные о начисленной оплате курьерам (для отображения в личном кабинете)

##### 2.3. Затрагиваемые стороны (Слой 4)

**Индивидуальные клиенты (st00700)**
- **Входящие потоки:**
  - Информация о статусе доставки заказа
  - Уведомления о времени доставки
- **Исходящие потоки:**
  - (Клиенты не передают данные напрямую в систему, взаимодействие через магазины/ПП)

### Потоки данных и управляющие воздействия

#### Потоки данных от системы к внешним сущностям:

1. **Курьер:**
   - Список доступных заказов
   - Детали заказа (адрес забора, адрес доставки, сроки)
   - Информация о начисленной оплате
   - История выполненных заказов

2. **Диспетчер:**
   - Список всех заказов с статусами
   - Информация о курьерах и их текущих заказах
   - Отчеты о выполненных заказах
   - Алерты о проблемных ситуациях

3. **Оператор:**
   - Подтверждение успешного ввода заказа
   - Список введенных заказов
   - Уведомления об ошибках ввода

4. **Администратор:**
   - Список зарегистрированных пользователей
   - Информация о правах доступа
   - Логи системы

5. **Магазины и ПП:**
   - Подтверждение получения заказа системой
   - Статус доставки заказа
   - Информация о курьере, выполняющем доставку

6. **Бухгалтерия:**
   - Данные о поступивших заказах (ID заказа, поставщик, сумма)
   - Данные о доставке заказа (ID заказа, курьер, статус доставки)
   - Данные о начисленной оплате курьерам

7. **Клиенты (через магазины/ПП):**
   - Статус доставки заказа
   - Время доставки

#### Потоки данных от внешних сущностей к системе:

1. **Курьер:**
   - Запрос на просмотр заказов
   - Запрос на бронирование заказа
   - Подтверждение забора заказа
   - Подтверждение доставки заказа
   - Статус выполнения заказа

2. **Диспетчер:**
   - Команда на переназначение заказа
   - Запросы на отчеты
   - Управляющие воздействия курьерам

3. **Оператор:**
   - Данные о заказах от магазинов и ПП (в едином формате)
   - Запросы на редактирование заказов

4. **Администратор:**
   - Команды на регистрацию курьеров
   - Команды на назначение прав доступа
   - Команды на управление пользователями

5. **Магазины и ПП:**
   - Информация о заказах (любым доступным способом, затем вводится оператором)

6. **Бухгалтерия:**
   - Данные о начисленной оплате курьерам (для отображения в системе)

### Управляющие воздействия

1. **От системы к курьеру:**
   - Уведомления о новых заказах
   - Инструкции по доставке
   - Напоминания о сроках доставки

2. **От диспетчера к системе:**
   - Команды на переназначение заказов
   - Команды на приоритизацию заказов

3. **От администратора к системе:**
   - Команды на управление доступом
   - Команды на настройку системы

### Границы системы

**Внутри системы:**
- База данных заказов
- Логика распределения заказов
- Логика расчета оплаты
- Система управления пользователями
- Мобильное приложение для курьеров
- Веб-интерфейс для диспетчера, оператора, администратора

**Вне системы:**
- Магазины и предприятия питания (передают заказы через оператора)
- Бухгалтерия (отдельная ИТ-система)
- Клиенты (получают информацию через магазины/ПП)
- Мобильные устройства курьеров (интерфейс системы)

### Примечания

1. На первом этапе заказы собираются от магазинов и ПП любым доступным способом и вводятся в систему оператором в едином формате.

2. Мобильное приложение для курьеров разрабатывается отдельно, но является частью системы.

3. Интеграция с бухгалтерией осуществляется через передачу данных в другую ИТ-систему.

4. Клиенты не взаимодействуют напрямую с системой, получают информацию через магазины/ПП.


# Exercise 03 — Проверка входных/выходных потоков данных
## Задача 1: Запись на стрижку (Barbershop Appointment System)

### Таблица входных/выходных потоков данных

| № | Внешняя сущность | Направление потока | Название потока | Описание данных | Примечания |
|---|------------------|-------------------|-----------------|-----------------|------------|
| 1 | Клиент | Вход | Запрос на запись | Данные о выбранной услуге, мастере, времени | Через веб-интерфейс |
| 2 | Клиент | Вход | Запрос на перенос записи | ID существующей записи, новое время | Через веб-интерфейс |
| 3 | Клиент | Вход | Выбор канала связи для уведомлений | Telegram/WhatsApp/VK/СМС, контакт | При записи или в настройках |
| 4 | Клиент | Выход | Подтверждение записи | ID записи, дата, время, мастер, услуга | Через веб-интерфейс |
| 5 | Клиент | Выход | Напоминание о записи | Дата, время, мастер, услуга, адрес | По выбранному каналу связи |
| 6 | Клиент | Выход | Запрос на оценку услуги | ID записи, ссылка на форму оценки | После получения услуги |
| 7 | Клиент | Вход | Оценка услуги и отзыв | Рейтинг, текст отзыва | Через веб-интерфейс |
| 8 | Посетитель | Вход | Запрос на регистрацию | ФИО, телефон, email, пароль | Через веб-интерфейс |
| 9 | Посетитель | Вход | Запрос на запись без регистрации | Данные о выбранной услуге, мастере, времени, контакт | Через веб-интерфейс |
| 10 | Посетитель | Выход | Подтверждение записи | ID записи, дата, время, мастер, услуга | Через веб-интерфейс |
| 11 | Посетитель | Выход | Напоминание о записи | Дата, время, мастер, услуга, адрес | По указанному контакту |
| 12 | Менеджер | Вход | Ввод расписания мастеров | ID мастера, дата, время начала, время окончания | Через веб-интерфейс |
| 13 | Менеджер | Вход | Ввод услуг мастеров | ID мастера, список услуг, цены | Через веб-интерфейс |
| 14 | Менеджер | Вход | Корректировка расписания | ID мастера, дата, изменения | Через веб-интерфейс |
| 15 | Менеджер | Вход | Настройка расписания напоминаний | Время до записи, каналы связи | Через веб-интерфейс |
| 16 | Менеджер | Вход | Отметка о выполнении услуги | ID записи, статус выполнения | Через веб-интерфейс |
| 17 | Менеджер | Вход | Начисление и прием оплаты | ID записи, сумма оплаты, способ оплаты | Через веб-интерфейс |
| 18 | Менеджер | Вход | Запрос на отчеты | Параметры отчета (период, мастер, услуга) | Через веб-интерфейс |
| 19 | Менеджер | Выход | Отчеты о выполненных услугах | Данные о услугах, мастерах, доходах | Через веб-интерфейс |
| 20 | Менеджер | Выход | Список отзывов клиентов | Отзывы с рейтингами, фильтры | Через веб-интерфейс |
| 21 | Менеджер | Выход | Информация о записях | Список записей, статусы, клиенты | Через веб-интерфейс |
| 22 | Мастер | Вход | Запрос на просмотр расписания | ID мастера, период | Через веб-интерфейс |
| 23 | Мастер | Выход | Расписание мастера | Даты, время, услуги, клиенты | Через веб-интерфейс |
| 24 | Мастер | Вход | Запрос на просмотр записей | ID мастера, период | Через веб-интерфейс |
| 25 | Мастер | Выход | Список записей на услуги | Записи с деталями клиентов | Через веб-интерфейс |
| 26 | Мастер | Вход | Запрос на просмотр отзывов | ID мастера, период | Через веб-интерфейс |
| 27 | Мастер | Выход | Отзывы клиентов | Рейтинги, тексты отзывов | Через веб-интерфейс |
| 28 | Бухгалтерия | Вход | Запрос на данные об оплате | Период, параметры фильтрации | Через интеграцию |
| 29 | Бухгалтерия | Выход | Данные об оплате | ID записи, клиент, услуга, сумма, дата | Через интеграцию |
| 30 | Системы уведомлений (Telegram) | Вход | Команда на отправку уведомления | Текст, получатель | Через API |
| 31 | Системы уведомлений (WhatsApp) | Вход | Команда на отправку уведомления | Текст, получатель | Через API |
| 32 | Системы уведомлений (VK) | Вход | Команда на отправку уведомления | Текст, получатель | Через API |
| 33 | Системы уведомлений (СМС) | Вход | Команда на отправку СМС | Текст, номер телефона | Через API |
| 34 | Системы уведомлений | Выход | Подтверждение отправки | Статус отправки, ID уведомления | Через API |

### Проверка соответствия контекстной диаграмме

#### Входные потоки (от внешних сущностей к системе):
✅ Все действия пользователей (клиенты, посетители, менеджеры, мастера) преобразованы в входные потоки данных  
✅ Управляющие воздействия (настройки, команды) учтены  
✅ Интеграции с внешними системами (бухгалтерия, уведомления) учтены  

#### Выходные потоки (от системы к внешним сущностям):
✅ Все ответы системы пользователям учтены  
✅ Данные для внешних систем (бухгалтерия) учтены  
✅ Уведомления через внешние системы учтены  

### Примечания и уточнения

1. **Потоки данных для клиентов и посетителей:**
   - Разделены потоки для зарегистрированных (клиенты) и незарегистрированных (посетители) пользователей
   - Посетители могут записаться без регистрации, но для получения напоминаний нужно указать контакт

2. **Потоки данных для менеджеров:**
   - Менеджер может быть не один, поэтому все действия через веб-интерфейс
   - Настройка расписания напоминаний - управляющее воздействие

3. **Потоки данных для мастеров:**
   - Мастера имеют доступ только на просмотр (read-only) своих данных
   - Не могут редактировать расписание или записи

4. **Потоки данных для бухгалтерии:**
   - Интеграция предполагает автоматическую передачу данных
   - Может быть как push (система отправляет), так и pull (бухгалтерия запрашивает)

5. **Потоки данных для систем уведомлений:**
   - Система отправляет команды на отправку уведомлений через API
   - Получает подтверждения об отправке

### Расхождения и уточнения

**Нет расхождений** - все потоки данных соответствуют описанию задачи и контекстной диаграмме.

### Дополнительные потоки, не указанные в задаче, но необходимые:

1. **Аутентификация и авторизация:**
   - Вход: Логин, пароль
   - Выход: Токен доступа, права пользователя

2. **Восстановление пароля:**
   - Вход: Email/телефон
   - Выход: Ссылка для восстановления

3. **Управление профилем:**
   - Вход: Изменения в профиле
   - Выход: Обновленный профиль

